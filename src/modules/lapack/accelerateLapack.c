/*
 *  R : A Computer Language for Statistical Data Analysis
 *  Copyright (C) 2023 The R Core Team.
 *
 *  This header file is free software; you can redistribute it and/or modify
 *  it under the terms of the GNU Lesser General Public License as published by
 *  the Free Software Foundation; either version 2.1 of the License, or
 *  (at your option) any later version.
 * 
 *  This file is part of R. R is distributed under the terms of the
 *  GNU General Public License, either Version 2, June 1991 or Version 3,
 *  June 2007. See doc/COPYRIGHTS for details of the copyright status of R.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Lesser General Public License for more details.
 *
 *  You should have received a copy of the GNU Lesser General Public License
 *  along with this program; if not, a copy is available at
 *  https://www.R-project.org/Licenses/
 */

/* This file is only used on macOS.

   It provdes 'shims' from Fortran-style BLAS calls to the interface
   provided by Apple's Accelerate in macOS >= 13.3.  The list of
   functions is taken from vecLib's libLAPACK.tbd (which does not
   provide LSAME which we supply in libRblas.  This is more than
   included in R, and liable to change.

   Which calls have return values is subject to verification,
   especially for those not included in R.
*/

#include <R_ext/RS.h> // for F77_NAME
// clang -Wall -pedantic will warn on this
#pragma clang diagnostic ignored "-Wdollar-in-identifier-extension"
// For ILP64 this would be x ## $NEWLAPACK ## $ILP64
#define ACC_NAME(x) x ## $NEWLAPACK

// Fortran subroutines
#define Mv(fun)\
void ACC_NAME(fun)(void); \
void F77_NAME(fun)(void) { \
    ACC_NAME(fun)(); \
}

// Fortran functions
// would need changes for ILP64: __LAPACK_int is int or long.
#define Mint(fun) \
int ACC_NAME(fun)(void); \
int F77_NAME(fun)(void) { \
    return ACC_NAME(fun)(); \
}
#define Mdouble(fun) \
double ACC_NAME(fun)(void); \
double F77_NAME(fun)(void) { \
    return ACC_NAME(fun)(); \
}
// would need changes for ILP64: __LAPACK_bool is int or long.
#define Mlgl(fun) \
int ACC_NAME(fun)(void); \
int F77_NAME(fun)(void) { \
    return ACC_NAME(fun)(); \
}

Mv(dbdsdc)
Mv(dbdsqr)
Mv(ddisna)
Mv(dgbbrd)
Mv(dgbcon)
Mv(dgbequ)
Mv(dgbequb)
Mv(dgbrfs)
Mv(dgbsv)
Mv(dgbsvx)
Mv(dgbtf2)
Mv(dgbtrf)
Mv(dgbtrs)
Mv(dgebak)
Mv(dgebal)
Mv(dgebd2)
Mv(dgebrd)
Mv(dgecon)
Mv(dgeequ)
Mv(dgeequb)
Mv(dgees)
Mv(dgeesx)
Mv(dgeev)
Mv(dgeevx)
Mv(dgegs)
Mv(dgegv)
Mv(dgehd2)
Mv(dgehrd)
Mv(dgejsv)
Mv(dgelq2)
Mv(dgelqf)
Mv(dgels)
Mv(dgelsd)
Mv(dgelss)
Mv(dgelsx)
Mv(dgelsy)
Mv(dgeql2)
Mv(dgeqlf)
Mv(dgeqp3)
Mv(dgeqpf)
Mv(dgeqr2)
Mv(dgeqrf)
Mv(dgerfs)
Mv(dgerq2)
Mv(dgerqf)
Mv(dgesc2)
Mv(dgesdd)
Mv(dgesv)
Mv(dgesvd)
Mv(dgesvj)
Mv(dgesvx)
Mv(dgetc2)
Mv(dgetf2)
Mv(dgetrf)
Mv(dgetri)
Mv(dgetrs)
Mv(dggbak)
Mv(dggbal)
Mv(dgges)
Mv(dggesx)
Mv(dggev)
Mv(dggevx)
Mv(dggglm)
Mv(dgghrd)
Mv(dgglse)
Mv(dggqrf)
Mv(dggrqf)
Mv(dggsvd)
Mv(dggsvp)
Mv(dgsvj0)
Mv(dgsvj1)
Mv(dgtcon)
Mv(dgtrfs)
Mv(dgtsv)
Mv(dgtsvx)
Mv(dgttrf)
Mv(dgttrs)
Mv(dgtts2)
Mv(dhgeqz)
Mv(dhsein)
Mv(dhseqr)
Mv(disnan)
Mv(dlabad)
Mv(dlabrd)
Mv(dlacn2)
Mv(dlacon)
Mv(dlacpy)
Mv(dladiv)
Mv(dlae2)
Mv(dlaebz)
Mv(dlaed0)
Mv(dlaed1)
Mv(dlaed2)
Mv(dlaed3)
Mv(dlaed4)
Mv(dlaed5)
Mv(dlaed6)
Mv(dlaed7)
Mv(dlaed8)
Mv(dlaed9)
Mv(dlaeda)
Mv(dlaein)
Mv(dlaev2)
Mv(dlaexc)
Mv(dlag2)
Mv(dlag2s)
Mv(dlags2)
Mv(dlagtf)
Mv(dlagtm)
Mv(dlagts)
Mv(dlagv2)
Mv(dlahqr)
Mv(dlahr2)
Mv(dlahrd)
Mv(dlaic1)
Mv(dlaisnan)
Mv(dlaln2)
Mv(dlals0)
Mv(dlalsa)
Mv(dlalsd)
Mv(dlamc1)
Mv(dlamc2)
Mdouble(dlamc3)
Mv(dlamc4)
Mv(dlamc5)
Mint(dlamch)
Mv(dlamrg)
Mv(dlaneg)
Mdouble(dlangb)
Mdouble(dlange)
Mdouble(dlangt)
Mdouble(dlanhs)
Mdouble(dlansb)
Mdouble(dlansf)
Mdouble(dlansp)
Mdouble(dlanst)
Mdouble(dlansy)
Mdouble(dlantb)
Mdouble(dlantp)
Mdouble(dlantr)
Mv(dlanv2)
Mv(dlapll)
Mv(dlapmt)
Mdouble(dlapy2)
Mdouble(dlapy3)
Mv(dlaqgb)
Mv(dlaqge)
Mv(dlaqp2)
Mv(dlaqps)
Mv(dlaqr0)
Mv(dlaqr1)
Mv(dlaqr2)
Mv(dlaqr3)
Mv(dlaqr4)
Mv(dlaqr5)
Mv(dlaqsb)
Mv(dlaqsp)
Mv(dlaqsy)
Mv(dlaqtr)
Mv(dlar1v)
Mv(dlar2v)
Mv(dlarf)
Mv(dlarfb)
Mv(dlarfg)
Mv(dlarfp)
Mv(dlarft)
Mv(dlarfx)
Mv(dlargv)
Mv(dlarnv)
Mv(dlarra)
Mv(dlarrb)
Mv(dlarrc)
Mv(dlarrd)
Mv(dlarre)
Mv(dlarrf)
Mv(dlarrj)
Mv(dlarrk)
Mv(dlarrr)
Mv(dlarrv)
Mv(dlarscl2)
Mv(dlartg)
Mv(dlartv)
Mv(dlaruv)
Mv(dlarz)
Mv(dlarzb)
Mv(dlarzt)
Mv(dlas2)
Mv(dlascl2)
Mv(dlascl)
Mv(dlasd0)
Mv(dlasd1)
Mv(dlasd2)
Mv(dlasd3)
Mv(dlasd4)
Mv(dlasd5)
Mv(dlasd6)
Mv(dlasd7)
Mv(dlasd8)
Mv(dlasda)
Mv(dlasdq)
Mv(dlasdt)
Mv(dlaset)
Mv(dlasq1)
Mv(dlasq2)
Mv(dlasq3)
Mv(dlasq4)
Mv(dlasq5)
Mv(dlasq6)
Mv(dlasr)
Mv(dlasrt)
Mv(dlassq)
Mv(dlasv2)
Mv(dlaswp)
Mv(dlasy2)
Mv(dlasyf)
Mv(dlat2s)
Mv(dlatbs)
Mv(dlatdf)
Mv(dlatps)
Mv(dlatrd)
Mv(dlatrs)
Mv(dlatrz)
Mv(dlatzm)
Mv(dlauu2)
Mv(dlauum)
Mv(dopgtr)
Mv(dopmtr)
Mv(dorg2l)
Mv(dorg2r)
Mv(dorgbr)
Mv(dorghr)
Mv(dorgl2)
Mv(dorglq)
Mv(dorgql)
Mv(dorgqr)
Mv(dorgr2)
Mv(dorgrq)
Mv(dorgtr)
Mv(dorm2l)
Mv(dorm2r)
Mv(dormbr)
Mv(dormhr)
Mv(dorml2)
Mv(dormlq)
Mv(dormql)
Mv(dormqr)
Mv(dormr2)
Mv(dormr3)
Mv(dormrq)
Mv(dormrz)
Mv(dormtr)
Mv(dpbcon)
Mv(dpbequ)
Mv(dpbrfs)
Mv(dpbstf)
Mv(dpbsv)
Mv(dpbsvx)
Mv(dpbtf2)
Mv(dpbtrf)
Mv(dpbtrs)
Mv(dpftrf)
Mv(dpftri)
Mv(dpftrs)
Mv(dpocon)
Mv(dpoequ)
Mv(dpoequb)
Mv(dporfs)
Mv(dposv)
Mv(dposvx)
Mv(dpotf2)
Mv(dpotrf)
Mv(dpotri)
Mv(dpotrs)
Mv(dppcon)
Mv(dppequ)
Mv(dpprfs)
Mv(dppsv)
Mv(dppsvx)
Mv(dpptrf)
Mv(dpptri)
Mv(dpptrs)
Mv(dpstf2)
Mv(dpstrf)
Mv(dptcon)
Mv(dpteqr)
Mv(dptrfs)
Mv(dptsv)
Mv(dptsvx)
Mv(dpttrf)
Mv(dpttrs)
Mv(dptts2)
Mv(drscl)
Mv(dsbev)
Mv(dsbevd)
Mv(dsbevx)
Mv(dsbgst)
Mv(dsbgv)
Mv(dsbgvd)
Mv(dsbgvx)
Mv(dsbtrd)
Mv(dsfrk)
Mv(dsgesv)
Mv(dspcon)
Mv(dspev)
Mv(dspevd)
Mv(dspevx)
Mv(dspgst)
Mv(dspgv)
Mv(dspgvd)
Mv(dspgvx)
Mv(dsposv)
Mv(dsprfs)
Mv(dspsv)
Mv(dspsvx)
Mv(dsptrd)
Mv(dsptrf)
Mv(dsptri)
Mv(dsptrs)
Mv(dstebz)
Mv(dstedc)
Mv(dstegr)
Mv(dstein)
Mv(dstemr)
Mv(dsteqr)
Mv(dsterf)
Mv(dstev)
Mv(dstevd)
Mv(dstevr)
Mv(dstevx)
Mv(dsycon)
Mv(dsyequb)
Mv(dsyev)
Mv(dsyevd)
Mv(dsyevr)
Mv(dsyevx)
Mv(dsygs2)
Mv(dsygst)
Mv(dsygv)
Mv(dsygvd)
Mv(dsygvx)
Mv(dsyrfs)
Mv(dsysv)
Mv(dsysvx)
Mv(dsytd2)
Mv(dsytf2)
Mv(dsytrd)
Mv(dsytrf)
Mv(dsytri)
Mv(dsytrs)
Mv(dtbcon)
Mv(dtbrfs)
Mv(dtbtrs)
Mv(dtfsm)
Mv(dtftri)
Mv(dtfttp)
Mv(dtfttr)
Mv(dtgevc)
Mv(dtgex2)
Mv(dtgexc)
Mv(dtgsen)
Mv(dtgsja)
Mv(dtgsna)
Mv(dtgsy2)
Mv(dtgsyl)
Mv(dtpcon)
Mv(dtprfs)
Mv(dtptri)
Mv(dtptrs)
Mv(dtpttf)
Mv(dtpttr)
Mv(dtrcon)
Mv(dtrevc)
Mv(dtrexc)
Mv(dtrrfs)
Mv(dtrsen)
Mv(dtrsna)
Mv(dtrsyl)
Mv(dtrti2)
Mv(dtrtri)
Mv(dtrtrs)
Mv(dtrttf)
Mv(dtrttp)
Mv(dtzrqf)
Mv(dtzrzf)
Mdouble(dzsum1)

Mv(dpotrf2)

Mint(ilaenv)
Mv(ilaver)

Mv(zbdsqr)
Mv(zcgesv)
Mv(zcposv)
Mv(zdrscl)
Mv(zgbbrd)
Mv(zgbcon)
Mv(zgbequ)
Mv(zgbequb)
Mv(zgbrfs)
Mv(zgbsv)
Mv(zgbsvx)
Mv(zgbtf2)
Mv(zgbtrf)
Mv(zgbtrs)
Mv(zgebak)
Mv(zgebal)
Mv(zgebd2)
Mv(zgebrd)
Mv(zgecon)
Mv(zgeequ)
Mv(zgeequb)
Mv(zgees)
Mv(zgeesx)
Mv(zgeev)
Mv(zgeevx)
Mv(zgegs)
Mv(zgegv)
Mv(zgehd2)
Mv(zgehrd)
Mv(zgelq2)
Mv(zgelqf)
Mv(zgels)
Mv(zgelsd)
Mv(zgelss)
Mv(zgelsx)
Mv(zgelsy)
Mv(zgeql2)
Mv(zgeqlf)
Mv(zgeqp3)
Mv(zgeqpf)
Mv(zgeqr2)
Mv(zgeqrf)
Mv(zgerfs)
Mv(zgerq2)
Mv(zgerqf)
Mv(zgesc2)
Mv(zgesdd)
Mv(zgesv)
Mv(zgesvd)
Mv(zgesvx)
Mv(zgetc2)
Mv(zgetf2)
Mv(zgetrf)
Mv(zgetri)
Mv(zgetrs)
Mv(zggbak)
Mv(zggbal)
Mv(zgges)
Mv(zggesx)
Mv(zggev)
Mv(zggevx)
Mv(zggglm)
Mv(zgghrd)
Mv(zgglse)
Mv(zggqrf)
Mv(zggrqf)
Mv(zggsvd)
Mv(zggsvp)
Mv(zgtcon)
Mv(zgtrfs)
Mv(zgtsv)
Mv(zgtsvx)
Mv(zgttrf)
Mv(zgttrs)
Mv(zgtts2)
Mv(zhbev)
Mv(zhbevd)
Mv(zhbevx)
Mv(zhbgst)
Mv(zhbgv)
Mv(zhbgvd)
Mv(zhbgvx)
Mv(zhbtrd)
Mv(zhecon)
Mv(zheequb)
Mv(zheev)
Mv(zheevd)
Mv(zheevr)
Mv(zheevx)
Mv(zhegs2)
Mv(zhegst)
Mv(zhegv)
Mv(zhegvd)
Mv(zhegvx)
Mv(zherfs)
Mv(zhesv)
Mv(zhesvx)
Mv(zhetd2)
Mv(zhetf2)
Mv(zhetrd)
Mv(zhetrf)
Mv(zhetri)
Mv(zhetrs)
Mv(zhfrk)
Mv(zhgeqz)
Mv(zhpcon)
Mv(zhpev)
Mv(zhpevd)
Mv(zhpevx)
Mv(zhpgst)
Mv(zhpgv)
Mv(zhpgvd)
Mv(zhpgvx)
Mv(zhprfs)
Mv(zhpsv)
Mv(zhpsvx)
Mv(zhptrd)
Mv(zhptrf)
Mv(zhptri)
Mv(zhptrs)
Mv(zhsein)
Mv(zhseqr)
Mv(zlabrd)
Mv(zlacgv)
Mv(zlacn2)
Mv(zlacon)
Mv(zlacp2)
Mv(zlacpy)
Mv(zlacrm)
Mv(zlacrt)
Mv(zladiv)
Mv(zlaed0)
Mv(zlaed7)
Mv(zlaed8)
Mv(zlaein)
Mv(zlaesy)
Mv(zlaev2)
Mv(zlag2c)
Mv(zlags2)
Mv(zlagtm)
Mv(zlahef)
Mv(zlahqr)
Mv(zlahr2)
Mv(zlahrd)
Mv(zlaic1)
Mv(zlals0)
Mv(zlalsa)
Mv(zlalsd)
Mdouble(zlangb)
Mdouble(zlange)
Mdouble(zlangt)
Mdouble(zlanhb)
Mdouble(zlanhe)
Mdouble(zlanhf)
Mdouble(zlanhp)
Mdouble(zlanhs)
Mdouble(zlanht)
Mdouble(zlansb)
Mdouble(zlansp)
Mdouble(zlansy)
Mdouble(zlantb)
Mdouble(zlantp)
Mdouble(zlantr)
Mv(zlapll)
Mv(zlapmt)
Mv(zlaqgb)
Mv(zlaqge)
Mv(zlaqhb)
Mv(zlaqhe)
Mv(zlaqhp)
Mv(zlaqp2)
Mv(zlaqps)
Mv(zlaqr0)
Mv(zlaqr1)
Mv(zlaqr2)
Mv(zlaqr3)
Mv(zlaqr4)
Mv(zlaqr5)
Mv(zlaqsb)
Mv(zlaqsp)
Mv(zlaqsy)
Mv(zlar1v)
Mv(zlar2v)
Mv(zlarcm)
Mv(zlarf)
Mv(zlarfb)
Mv(zlarfg)
Mv(zlarfp)
Mv(zlarft)
Mv(zlarfx)
Mv(zlargv)
Mv(zlarnv)
Mv(zlarrv)
Mv(zlarscl2)
Mv(zlartg)
Mv(zlartv)
Mv(zlarz)
Mv(zlarzb)
Mv(zlarzt)
Mv(zlascl2)
Mv(zlascl)
Mv(zlaset)
Mv(zlasr)
Mv(zlassq)
Mv(zlaswp)
Mv(zlasyf)
Mv(zlat2c)
Mv(zlatbs)
Mv(zlatdf)
Mv(zlatps)
Mv(zlatrd)
Mv(zlatrs)
Mv(zlatrz)
Mv(zlatzm)
Mv(zlauu2)
Mv(zlauum)
Mv(zpbcon)
Mv(zpbequ)
Mv(zpbrfs)
Mv(zpbstf)
Mv(zpbsv)
Mv(zpbsvx)
Mv(zpbtf2)
Mv(zpbtrf)
Mv(zpbtrs)
Mv(zpftrf)
Mv(zpftri)
Mv(zpftrs)
Mv(zpocon)
Mv(zpoequ)
Mv(zpoequb)
Mv(zporfs)
Mv(zposv)
Mv(zposvx)
Mv(zpotf2)
Mv(zpotrf)
Mv(zpotri)
Mv(zpotrs)
Mv(zppcon)
Mv(zppequ)
Mv(zpprfs)
Mv(zppsv)
Mv(zppsvx)
Mv(zpptrf)
Mv(zpptri)
Mv(zpptrs)
Mv(zpstf2)
Mv(zpstrf)
Mv(zptcon)
Mv(zpteqr)
Mv(zptrfs)
Mv(zptsv)
Mv(zptsvx)
Mv(zpttrf)
Mv(zpttrs)
Mv(zptts2)
Mv(zrot)
Mv(zspcon)
Mv(zspmv)
Mv(zspr)
Mv(zsprfs)
Mv(zspsv)
Mv(zspsvx)
Mv(zsptrf)
Mv(zsptri)
Mv(zsptrs)
Mv(zstedc)
Mv(zstegr)
Mv(zstein)
Mv(zstemr)
Mv(zsteqr)
Mv(zsycon)
Mv(zsyequb)
Mv(zsymv)
Mv(zsyr)
Mv(zsyrfs)
Mv(zsysv)
Mv(zsysvx)
Mv(zsytf2)
Mv(zsytrf)
Mv(zsytri)
Mv(zsytrs)
Mv(ztbcon)
Mv(ztbrfs)
Mv(ztbtrs)
Mv(ztfsm)
Mv(ztftri)
Mv(ztfttp)
Mv(ztfttr)
Mv(ztgevc)
Mv(ztgex2)
Mv(ztgexc)
Mv(ztgsen)
Mv(ztgsja)
Mv(ztgsna)
Mv(ztgsy2)
Mv(ztgsyl)
Mv(ztpcon)
Mv(ztprfs)
Mv(ztptri)
Mv(ztptrs)
Mv(ztpttf)
Mv(ztpttr)
Mv(ztrcon)
Mv(ztrevc)
Mv(ztrexc)
Mv(ztrrfs)
Mv(ztrsen)
Mv(ztrsna)
Mv(ztrsyl)
Mv(ztrti2)
Mv(ztrtri)
Mv(ztrtrs)
Mv(ztrttf)
Mv(ztrttp)
Mv(ztzrqf)
Mv(ztzrzf)
Mv(zung2l)
Mv(zung2r)
Mv(zungbr)
Mv(zunghr)
Mv(zungl2)
Mv(zunglq)
Mv(zungql)
Mv(zungqr)
Mv(zungr2)
Mv(zungrq)
Mv(zungtr)
Mv(zunm2l)
Mv(zunm2r)
Mv(zunmbr)
Mv(zunmhr)
Mv(zunml2)
Mv(zunmlq)
Mv(zunmql)
Mv(zunmqr)
Mv(zunmr2)
Mv(zunmr3)
Mv(zunmrq)
Mv(zunmrz)
Mv(zunmtr)
Mv(zupgtr)
Mv(zupmtr)


